<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no,initial-scale=1.0">
		<title></title>
	    <link rel="stylesheet" type="text/css" href="../common/css/aui.css" />
	    <style type="text/css">
	    .aui-content-padded {
	    	margin-top: 30px;
	    }
		#result{
			width: 300px;
			margin: 0 auto;
			padding: 10px;
			border: 1px solid #ff9900;
			height: 200px;
			background: #ffffff;
			word-break: break-all;
		}
	    </style>
	</head>
	<body>
        <header class="aui-bar aui-bar-nav aui-bar-primary" id="header">
		    <a class="aui-pull-left" id="back">
		        <span class="aui-iconfont aui-icon-left"></span>
		    </a>
		    <div class="aui-title">camera</div>
		</header>
		<section class="aui-content-padded">
			<div class="aui-btn aui-btn-warning" id="captureImage">拍照</div>
		</section>
		<p class="aui-text-center aui-text-danger">结果</p>
        <section class="aui-content-padded" id="result"></section>
	</body>
	<script src="../common/co/native.js"></script>
	<script src="../common/co/dom.js"></script>
	<script src="../common/co/co.js"></script>
	<script>
       	domReady(function(require){
       		if($.os.ios){
				app.setStatusBarBackgroundColor('#1abc9c');
				app.statusBarFontColor(1);
			}else if($.os.android){
			}
			$("#captureImage").on("tap",function(){
				var a = rd.camera.ResolutionTypeMedium;//设置摄像分辨率
			    var option = {resolution:a,index:0,filename:'data://hi.jpg'};
			    rd.camera.captureImage(ImageSuccessCallback,ImageErrorCallback,option);
			})
			$("#back").on("tap",function(){
				var view = app.currentView();
				view.back(); //返回上一层
			})
		});
		//拍照成功回调
		function ImageSuccessCallback(capturedFile){
			$("#result").text(JSON.stringify(capturedFile));
		}
		//拍照失败回调
		function ImageErrorCallback(){

		}
	</script>
</html>
